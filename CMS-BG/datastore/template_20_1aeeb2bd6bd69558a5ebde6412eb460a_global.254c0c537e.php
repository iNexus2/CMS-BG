<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_donate_front_global extends \\IPS\\Theme\\Template\n{\n\tpublic $cache_key = 'f08b9663d84b3750506d9fdebffa0d5a';\n\tfunction donateChangeRow( $table, $headers, $rows, $includeFirstCommentInCommentCount=TRUE ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( count( $rows ) ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nforeach ( $rows as $row ):\n$return .= <<<CONTENT\n\n\t\t<li class=\"ipsDataItem ipsDataItem_responsivePhoto \nCONTENT;\n\nif ( !$row['c_approved'] ):\n$return .= <<<CONTENT\nipsModerated\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n \nCONTENT;\n\nif ( method_exists( $row, 'tableClass' ) && $row->tableClass() ):\n$return .= <<<CONTENT\nipsDataItem_\nCONTENT;\n$return .= htmlspecialchars( $row->tableClass(), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\">\n        \t<div class='ipsDataItem_generic ipsDataItem_size3'>\n        \t\t<span class='ipsBadge ipsBadge_button ipsBadge_verySmall \nCONTENT;\n\nif ( $row['c_new_amount'] == $row['c_previous_amount'] ):\n$return .= <<<CONTENT\nipsBadge_neutral\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( $row['c_new_amount'] > $row['c_previous_amount'] ):\n$return .= <<<CONTENT\nipsBadge_positive\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\nipsBadge_negative\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\nCONTENT;\n\nif ( $row['c_new_amount'] == $row['c_previous_amount'] ):\n$return .= <<<CONTENT\nNo Change\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n<i class='fa fa-\nCONTENT;\n\nif ( $row['c_new_amount'] > $row['c_previous_amount'] ):\n$return .= <<<CONTENT\nplus\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\nminus\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'><\/i> \nCONTENT;\n\n$return .= new \\IPS\\donate\\Currency\\Money( $row['c_new_amount'] - $row['c_previous_amount'], '', '' );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/span>\n        \t<\/div>\n\n\t\t\t<div class='ipsDataItem_main'>\n\t\t\t\t<h4 class='ipsDataItem_title ipsType_break'>\n                    \nCONTENT;\n\nif ( $row['c_notes'] ):\n$return .= <<<CONTENT\n{$row['c_notes']}\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n<i>No note left..<\/i>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n   \n\t\t\t\t<\/h4>\n\n\t\t\t\t\nCONTENT;\n\nif ( !$row['c_approved'] AND $row['c_donor']->member_id != $row['c_member']->member_id ):\n$return .= <<<CONTENT\n\n                    <ul class='ipsButton_split ipsPos_right'>\n                        <li><a href='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=donate&module=donate&controller=send&do=approve&id={$row['c_id']}\", \"front\", \"\", array(), 0 ) );\n$return .= <<<CONTENT\n' class='ipsButton ipsButton_verySmall ipsButton_positive'>Approve<\/a><\/li>\n                        <li><a href='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=donate&module=donate&controller=send&do=reject&id={$row['c_id']}\", \"front\", \"\", array(), 0 ) );\n$return .= <<<CONTENT\n' class='ipsButton ipsButton_verySmall ipsButton_negative' data-confirm>Reject<\/a><\/li>\n                    <\/ul>\n                \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n   \n\t\t\t\t\nCONTENT;\n\nif ( !$row['c_approved'] AND $row['c_donor']->member_id == $row['c_member']->member_id ):\n$return .= <<<CONTENT\n\n                    <span class='ipsPos_right ipsBadge ipsBadge_warning'>Transfer Pending<\/span>\n                \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n  \n\t\t\t\t\nCONTENT;\n\nif ( $row['c_approved'] == 2 ):\n$return .= <<<CONTENT\n\n                    <span class='ipsPos_right ipsBadge ipsBadge_negative'>Transfer Rejected<\/span>\n                \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n                                            \n\t\t\t<\/div>\n    \t\t<ul class='ipsDataItem_lastPoster ipsDataItem_withPhoto'>\n                \nCONTENT;\n\nif ( $row['c_member'] ):\n$return .= <<<CONTENT\n\n        \t\t\t<li>\t\t\n                        \nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $row['c_member'], 'tiny' );\n$return .= <<<CONTENT\n\n        \t\t\t<\/li>\n                \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n    \t\t\t<li>\n                    \nCONTENT;\n\nif ( $row['c_member'] ):\n$return .= <<<CONTENT\n\n                        {$row['c_member']->link()}\n                    \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n                    \t\n    \t\t\t<\/li>              \n    \t\t\t<li class=\"ipsType_light\">\n                    \nCONTENT;\n\n$val = ( $row['c_date'] instanceof \\IPS\\DateTime ) ? $row['c_date'] : \\IPS\\DateTime::ts( $row['c_date'] );$return .= $val->html();\n$return .= <<<CONTENT\n\n    \t\t\t<\/li>\n    \t\t<\/ul>\t\t\t           \n\t\t<\/li>\n\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction profileHook( $member ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->member_id == $member->member_id OR \\IPS\\Member::loggedIn()->group['g_dt_moderate_donations'] ):\n$return .= <<<CONTENT\n\n    <li>\n\t    <h4 class='ipsType_minorHeading'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'donate_member_donations', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h4>\n\t    \nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->member_id == $member->member_id OR \\IPS\\Member::loggedIn()->group['g_dt_moderate_donations'] ):\n$return .= <<<CONTENT\n<a href='\nCONTENT;\n$return .= htmlspecialchars( $member->url()->setQueryString( array( 'tab' => 'node_donate_DonateChanges' ) ), ENT_QUOTES | \\IPS\\HTMLENTITIES, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' class='ipsType_blendLinks'>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= new \\IPS\\donate\\Currency\\Money( $member->donate_amount, -1, '' );\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->member_id == $member->member_id OR \\IPS\\Member::loggedIn()->group['g_dt_moderate_donations'] ):\n$return .= <<<CONTENT\n<\/a>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n&nbsp;\n\n        \nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->group['g_dt_moderate_donations'] ):\n$return .= <<<CONTENT\n    \n        \t<a href='\nCONTENT;\n\n$return .= str_replace( '&', '&amp;', \\IPS\\Http\\Url::internal( \"app=donate&module=donate&controller=send&do=editTotal&member={$member->member_id}\", \"front\", \"\", array(), 0 ) );\n$return .= <<<CONTENT\n' class='ipsType_blendLinks' data-ipsDialog data-ipsDialog-modal='true' data-ipsDialog-title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'donate_edit_donation_total', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'>\n        \t\t<i class='fa fa-pencil-square'><\/i>&nbsp;<\/span>\n        \t<\/a>  \n        \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n              \n    <\/li> \n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction topicView( $comment ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( !\\IPS\\Settings::i()->dt_hide_topic_hook AND $comment->author()->donate_donations ):\n$return .= <<<CONTENT\n\n\t<li class=\"ipsType_light ipsSpacer_top\" data-ipsTooltip title=\"\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'donor_title', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\">      \n\t\t<span class=\"ipsBadge ipsBadge_small ipsBadge_icon ipsBadge_positive\"><i class=\"fa fa-dollar\"><\/i><\/span> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'member_donor', \\IPS\\HTMLENTITIES, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t<\/li>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;
